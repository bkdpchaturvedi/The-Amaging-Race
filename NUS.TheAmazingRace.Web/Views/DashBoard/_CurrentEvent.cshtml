@model IEnumerable<NUS.TheAmagingRace.DAL.Event>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<style>
    .animatedDiv {
        background-color: Gray;
        width: 100px;
        height: 100px;
        position: fixed;
        top: 40%;
        right: 0px;
    }
</style>
<div class="row">
    <div id="EventListWrapper" class="col-lg-3">


        <p align="center" style="font-size:16px;color:white">
            Current Event

        </p>



        @if (Model.Count() > 0)
        {


            foreach (var v in Model)
            {




                <div class="card">
                    <div class="card-content">
                        <div class="card-header">
                            <div class="card-heading">
                                <div style="float:right">
                                    <a href="#" class="glyphicon glyphicon-eye-open" onclick="ShowEvent(@v.EventID)"></a>&nbsp;
                                </div>
                                <h5 align="center"><strong>@v.EventName</strong> </h5>
                            </div>

                        </div>
                        <div class="card-body">
                            <p class="card-p">
                                <i>@v.EventDescription</i><br />
                                Total Pitstops&nbsp;: @v.TotalPitStops<br />
                                Total Teams &nbsp; : @v.TotalTeams<br />

                            </p>
                        </div>

                        <div class="card-footer" align="center">


                            This Event Ends on : @v.EndDate.Day-@v.EndDate.Month-@v.EndDate.Year
                        </div>
                    </div>


                </div>

            }
            <div align="center">
                <br />
                <div style="color:white!important;cursor: pointer;" id="upcomingSlider"> click here to see Upcoming Events</div>
            </div>





            <input type="hidden" id="hiddenEventId" />


        }
        else
        {
            <div class="NorecordFound">
                <br />
                <p> There is no event today check Upcoming Events for Next Event </p>


            </div>
        }

    </div>
    

</div>

<div class="modal fade" id="ModalShow">
    <div class="modal-dialog">
        <div class="modal-content">


            <div class="modal-header">
                <a href="#" class="close" data-dismiss="modal">&times;</a>
                <h3 class="modal-title">Event Details</h3>

            </div>

            <div class="modal-body" id="ModalBodyShow">

            </div>

        </div>
    </div>
</div>



<script>
    var ShowEvent = function (eventId) {
        var url = "/Event/EventDetails?EventID=" + eventId;

        $("#ModalBodyShow").load(url, function () {
            $("#ModalShow").modal("show");
        })
    }
    var url = "/DashBoard/UpcomingEvent"
   
    $("#upcomingSlider").click(function () {
       
               $("#searchResults").load(url, function () {
                   $("#searchResults").slideToggle("fast");
        });
        
      
            
    });
       
   



</script>