@model IEnumerable<NUS.TheAmagingRace.DAL.Event>
<script src="~/Scripts/Custom/EventManagement.js"></script>
<script src="~/Scripts/Custom/PitStop.js"></script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyD6cYS3IKR8NfnZCYCB9eCMABX9PPvDjXY"></script>
<p>
    <a href="#" class="btn btn-success" onclick="AddEvent()">Create</a>
    @Ajax.BeginForm(new AjaxOptions { OnSuccess = "OnSuccess", HttpMethod = "POST" })
    @{ 
    @Html.AntiForgeryToken()
    <div class="input-group">
        @Html.TextBox("SearchString", null, new { @class = "form-control", @id = "txtsearch", @style = "width:150px;height:20px;", @placeholder = "Search Events" })
        <span class="input-group-btn"><button class="btn btn-xs" /> go</span>
    </div>
    }
</p>



@if (Model.Count() > 0)
{

    foreach (var v in Model)
    {


        var id = "EventCard_" + v.EventID;

        <div class="card" id='@id.ToString()'>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-heading">
                        <div style="float:right">
                            <a href="#" class="glyphicon glyphicon-pencil" onclick="EditEvent(@v.EventID)"></a>&nbsp;
                            <a href="#" class="glyphicon glyphicon-eye-open" onclick="ShowEvent(@v.EventID)"></a>&nbsp;
                            <a href="#" class="glyphicon glyphicon-trash" onclick="ConfirmDelete(@v.EventID)"></a>&nbsp;
                        </div>
                        <h5 align="center"><strong>@v.EventName</strong> </h5>
                    </div>

                </div>
                <div class="card-body" onclick="ShowPitstop(@v.EventID)">
                    <p class="card-p">
                        <i>@v.EventDescription</i><br />
                        Total Pitstops&nbsp;: @v.TotalPitStops<br />
                        Total Teams &nbsp; : @v.TotalTeams<br />

                    </p>
                </div>

                <div class="card-footer">


                    <strong>Last modified by : </strong>@v.LastModifiedBy
                </div>

            </div>
        </div>




    }

    <input type="hidden" id="hiddenEventId" />

}
else
{
    <div class="NorecordFound">
        <br />
        <p> No events to display </p>

        <p> Click create to add events</p>
    </div>
}


