@model IEnumerable<NUS.TheAmagingRace.DAL.PitStop>


@Scripts.Render("~/bundles/jqueryval")

<script src="~/Scripts/Custom/EventManagement.js"></script>
<script src="~/Scripts/Custom/PitStop.js"></script>

@if (Model.Count() >= 0)
{
    <div id="eventIdDiv">
        <input type="hidden" id="eventId" value="" />
    </div>
    <div id="refresh">
      
        <a href="#" class="btn btn-success" onclick="AddPitStop()">Create</a>

        

        <div class="row">
            <div id="PitstopLoad">
                @foreach (var v in Model)
                {
                    var PitId = "PitStopCard_" + v.PitStopID;
                    <div class="col-lg-4">
                        <div class="card" style="width: 18rem;" id='@PitId.ToString()'>
                            <div class="card-content">
                                <div class="card-header">
                                    <div class="card-heading">
                                        <div style="float:right">
                                            <a href="#" class="glyphicon glyphicon-pencil" onclick="EditPitStop(@v.PitStopID)"></a>&nbsp;
                                            <a href="#" class="glyphicon glyphicon-eye-open" onclick="VewPitstop(@v.PitStopID)"></a>&nbsp;
                                            <a href="#" class="glyphicon glyphicon-trash" onclick="deletePitStop(@v.PitStopID)"></a>&nbsp;
                                        </div>
                                        <h5 align="center"><strong>@v.PitStopName</strong> </h5>
                                    </div>

                                </div>
                                <div class="card-body">
                                    <p class="card-p">
                                        <i>@v.Address</i><br />
                                    </p>
                                </div>

                                <div class="card-footer">
                                    <strong>Last modified by : </strong>@v.LastModifiedBy
                                </div>

                            </div>
                        </div>
                    </div>
                }
                <input type="hidden" id="hiddenEventId" />
                <div class="col-lg-8">
                    @if (Model.Count() > 0)
                    {
                        <div class="col-lg-8" id="mainMap" style="width:400px;height:200px;background:yellow"></div>
                    }
                    else
                    {
                        <div class="NorecordFound">
                            <br />
                            <p> No PitStop to display </p>

                            <p> Click create to add Pitstop</p>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>

}

else
{
    <div class="NorecordFound">
        <br />

        <p> Select an event to view Pit stops</p>
    </div>
}
<input type="hidden" id="hiddenPitStopId" />
<div class="modal fade" id="deleteModel">
    <div class="modal-dialog">
        <div class="modal-content">


            <div class="modal-header">
                <a href="#" class="close" data-dismiss="modal">&times;</a>
                <h3 class="modal-title">Delete PitStop</h3>

            </div>

            <div class="modal-body">
                <h4>Are you sure to delete this?</h4>

                <div style="text-align:center;display:none" id="loaderDiv">
                    <img src="~/Content/Images/InternetSlowdown_Day.gif" width="150" />
                </div>
            </div>
            <div class="modal-footer">
                <a href="#" class="btn btn-default" data-dismiss="modal">cancel</a>
                <a href="#" class="btn btn-success" onclick="DeletePitConfirm()">Confirm</a>

            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="ModalAddPit">
    <div class="modal-dialog">
        <div class="modal-content">


            <div class="modal-header">
                <a href="#" class="close" data-dismiss="modal">&times;</a>
                <h3 class="modal-title">Create PitStop</h3>

            </div>

            <div class="modal-body" id="ModalBodyAddPit">

            </div>

        </div>
    </div>
</div>


<div class="modal fade" id="ModalviewPit">
    <div class="modal-dialog">
        <div class="modal-content">


            <div class="modal-header">
                <a href="#" class="close" data-dismiss="modal">&times;</a>
                <h3 class="modal-title">PitStop Details</h3>

            </div>

            <div class="modal-body" id="ModalBodyviewPit">

            </div>

        </div>
    </div>
</div>


<div class="modal fade" id="ModalEditPit">
    <div class="modal-dialog">
        <div class="modal-content">


            <div class="modal-header">
                <a href="#" class="close" data-dismiss="modal">&times;</a>
                <h3 class="modal-title">Edit PitStop</h3>

            </div>

            <div class="modal-body" id="ModalBodyEditPit">

            </div>

        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        allPitStops();
    });
</script>


